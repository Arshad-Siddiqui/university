# Reading: The Web and HTTP

# 🌐 The Web and HTTP

*(Based on Computer Networking: A Top-Down Approach, Ch. 2, Sec. 2.2)*

---

## 🧩 What Is the Web?

The **World Wide Web (WWW)** is a distributed system of documents (web pages) stored on servers and retrieved by clients (browsers) using the **HyperText Transfer Protocol (HTTP)**.

It follows a **client–server model**:

* **Client:** The user’s web browser (e.g., Chrome, Firefox) sends requests for web objects.
* **Server:** A web server (e.g., Apache, Nginx) responds with the requested content, such as HTML files, images, or videos.

Every web page can contain **multiple objects** — images, text, scripts, etc. — each identified by a **URL (Uniform Resource Locator)**.

---

## 📡 HTTP — HyperText Transfer Protocol

HTTP defines how clients and servers **communicate**.
It operates at the **application layer** and relies on **TCP** (transport layer) to provide reliable data transfer.

### Key Features

* **Stateless:** Each request/response pair is independent. The server doesn’t remember previous interactions (though cookies can reintroduce state).
* **Flexible:** Can transfer text, multimedia, and arbitrary data via MIME types.
* **Simple:** Uses plain-text request and response messages, human-readable and easy to debug.

---

## ⚙️ HTTP Operation

### 1. **Establish a Connection**

* HTTP uses **TCP** by default on **port 80** (or **port 443** for HTTPS).
* The client establishes a TCP connection with the server’s IP address.

### 2. **Request Message (Client → Server)**

Example:

```
GET /index.html HTTP/1.1
Host: www.example.com
User-Agent: Chrome/119.0
Accept-Language: en-GB
```

* The **request line** (`GET /index.html HTTP/1.1`) specifies the method, resource, and version.
* **Header fields** provide metadata (client type, accepted formats, cookies, etc.).

### 3. **Response Message (Server → Client)**

Example:

```
HTTP/1.1 200 OK
Content-Type: text/html
Content-Length: 1024

<html>...</html>
```

* The **status line** gives the version and a **status code** (e.g., `200 OK`, `404 Not Found`).
* The body contains the requested content (e.g., an HTML page).

---

## 🔁 Persistent vs Non-Persistent Connections

### 🧱 Non-Persistent HTTP (HTTP/1.0)

* Each request–response uses a **separate TCP connection**.
* Inefficient due to repeated handshakes and slow start.

### 🔄 Persistent HTTP (HTTP/1.1+)

* Multiple requests/responses can share a **single TCP connection**.
* Reduces overhead, improves latency, and supports **pipelining** (sending multiple requests without waiting for responses).

---

## 🚀 HTTP Methods

| Method      | Description                                              |
| ----------- | -------------------------------------------------------- |
| **GET**     | Retrieve data (most common).                             |
| **POST**    | Send data to the server (e.g., form submission).         |
| **HEAD**    | Same as GET but without body — used for metadata checks. |
| **PUT**     | Upload or replace data on the server.                    |
| **DELETE**  | Remove specified resource.                               |
| **OPTIONS** | Request server-supported methods.                        |

---

## 🗃️ Cookies and State Management

Since HTTP is **stateless**, cookies were introduced to simulate state:

* The server sends a `Set-Cookie` header in a response.
* The browser stores it and includes it in subsequent requests (`Cookie: session_id=...`).
* Enables login sessions, shopping carts, preferences, etc.

---

## 🔒 HTTPS — HTTP Secure

* Uses **TLS (Transport Layer Security)** over HTTP.
* Encrypts all data exchanged between client and server, ensuring **confidentiality**, **integrity**, and **authentication**.
* Operates on **port 443**.

---

## 🧠 Design Philosophy: Simplicity + Flexibility

HTTP’s design reflects key assumptions and trade-offs:

| Assumption                       | Impact on Design                                               |
| -------------------------------- | -------------------------------------------------------------- |
| TCP provides reliable delivery   | HTTP can remain **simple**, no need for retransmission logic.  |
| Connections are short-lived      | Encouraged **statelessness**, allowing scalability.            |
| Applications vary widely         | Flexible header fields and MIME types allow **extensibility**. |
| Human readability aids debugging | Text-based messages make HTTP easy to analyse and adapt.       |

**Result:** A protocol that is easy to implement, extend, and scale — forming the foundation of all modern web traffic.

---

## 📦 Real-World Example: Request Lifecycle

**Scenario:** Loading `https://www.university.edu/home.html`

1. Browser resolves domain → DNS lookup.
2. TCP connection established with the web server.
3. Browser sends HTTP `GET` request.
4. Server responds with the HTML file.
5. Browser parses HTML, identifies other resources (CSS, JS, images).
6. Additional `GET` requests sent for each resource (possibly via persistent connections).
7. Browser renders the page.

---

## ⚖️ Task Questions

### 🧩 How HTTP Balances Simplicity and Flexibility

* Uses human-readable text for ease of development and debugging.
* Statelessness simplifies scaling — any server can respond to any request.
* Extensible via **headers** and **status codes**, allowing new features without breaking compatibility.

### 🔧 What Assumptions Does HTTP Make?

* **Reliable, ordered transport** (TCP handles packet loss, sequencing).
* **End-to-end connection** exists between client and server.
* **Session state** must be maintained at the application level if needed.

### 🧠 Why These Assumptions Matter

* By relying on TCP for reliability, HTTP avoids reinventing the wheel.
* Statelessness allows servers to scale horizontally (load-balanced web farms).
* Optional state mechanisms (cookies, tokens) keep it flexible for modern needs.

---

✅ **Key Takeaways**

* HTTP defines *how* data is exchanged, not *what* the data is.
* Its simplicity, extensibility, and statelessness made it the backbone of the Internet.
* Modern enhancements (persistent connections, HTTPS, HTTP/2, HTTP/3) preserve the same principles while boosting performance and security.

---

# TCP reminder:

# ⚙️ TCP — Transmission Control Protocol

---

## 🌍 Overview

**TCP** is one of the core **transport-layer protocols** in the Internet protocol suite (alongside UDP).
It provides **reliable, ordered, and error-checked delivery** of data between applications running on hosts communicating via an IP network.

Think of it as the Internet’s **“post office with tracking, receipts, and guarantees.”**

---

## 🚀 Key Features

| Feature                 | Description                                                      |
| ----------------------- | ---------------------------------------------------------------- |
| **Connection-oriented** | A connection (session) must be established before data transfer. |
| **Reliable delivery**   | Lost packets are retransmitted.                                  |
| **Ordered delivery**    | Segments are reassembled in the correct order.                   |
| **Error checking**      | Each segment has a checksum for data integrity.                  |
| **Flow control**        | Prevents sender from overwhelming receiver.                      |
| **Congestion control**  | Prevents overloading the network.                                |
| **Full duplex**         | Data can flow in both directions simultaneously.                 |

---

## 🧩 Relationship in the Stack

```
Application Layer: HTTP, FTP, SMTP, SSH
↓
Transport Layer: TCP  ← reliable transport
↓
Network Layer: IP     ← best-effort packet delivery
↓
Data Link / Physical: Ethernet, Wi-Fi
```

* **IP** moves packets between hosts.
* **TCP** ensures the data *within* those packets arrives safely, in order, and without duplication.

---

## 🔗 The 3-Way Handshake (Connection Establishment)

To establish a reliable connection, TCP uses the famous **three-way handshake**:

1. **SYN** – Client sends a request to start a session.
2. **SYN-ACK** – Server acknowledges the request.
3. **ACK** – Client confirms. Connection established.

```
Client                Server
  |--- SYN ---------->|
  |<-- SYN + ACK -----|
  |--- ACK ---------->|
```

This ensures **both sides are ready** before transmission starts.

---

## 🧠 TCP Segment Structure

| Field                              | Description                                                       |
| ---------------------------------- | ----------------------------------------------------------------- |
| **Source Port / Destination Port** | Identifies sending and receiving applications.                    |
| **Sequence Number**                | Position of the first byte in the data segment.                   |
| **Acknowledgement Number**         | Confirms receipt of previous data.                                |
| **Flags**                          | Control bits (SYN, ACK, FIN, RST, PSH, URG).                      |
| **Window Size**                    | Controls flow (how much data can be sent before waiting for ACK). |
| **Checksum**                       | Detects data corruption.                                          |
| **Data**                           | The actual payload.                                               |

---

## 🔄 Data Transmission Process

1. **Data Segmentation:**
   Application data (like an email or HTTP message) is split into manageable chunks (segments).

2. **Sequencing & Transmission:**
   Each segment gets a sequence number and is sent via IP.

3. **Acknowledgement & Retransmission:**

   * Receiver sends an **ACK** for received segments.
   * If sender doesn’t get an ACK within timeout → it retransmits.

4. **Reassembly:**
   Receiver reorders segments based on sequence numbers.

---

## 🧍 Flow Control (Receiver-side Protection)

* Managed via the **sliding window** mechanism.
* The receiver advertises how many bytes it can handle (`window size`).
* The sender adjusts its rate accordingly to prevent overflow.

This ensures smooth data flow between systems with different speeds.

---

## 🌐 Congestion Control (Network Protection)

TCP constantly monitors network congestion and adapts:

* **Slow Start:** Transmission begins cautiously (small window).
* **Congestion Avoidance:** Gradually increases sending rate until loss detected.
* **Fast Retransmit / Recovery:** Resends lost packets quickly without resetting the connection.

Goal: Maximise throughput without flooding the network.

---

## 🏁 Connection Termination

TCP connections close gracefully using a **four-step handshake**:

1. **FIN** → Client: “I’m done sending.”
2. **ACK** ← Server: “Got it.”
3. **FIN** ← Server: “I’m done too.”
4. **ACK** → Client: “Roger that.”

Both sides close independently to ensure all data is delivered.

---

## ⚖️ TCP vs UDP

| Feature         | **TCP**                   | **UDP**                 |
| --------------- | ------------------------- | ----------------------- |
| **Connection**  | Yes (3-way handshake)     | No                      |
| **Reliability** | Guaranteed                | Best-effort             |
| **Order**       | Preserved                 | May arrive out of order |
| **Overhead**    | High                      | Low                     |
| **Speed**       | Slower                    | Faster                  |
| **Use cases**   | Web, email, file transfer | Games, streaming, DNS   |

---

## 💡 Real-World Uses

* **HTTP/HTTPS** (web traffic)
* **FTP/SFTP** (file transfer)
* **SMTP/IMAP** (email)
* **SSH** (secure terminal access)

---

## 🧮 Example: TCP in Action (Web Request)

1. You visit `https://example.com`.
2. Browser (client) opens a TCP connection to port **443** on the web server.
3. Sends an **HTTP GET** request through that TCP stream.
4. Server sends back the HTML data in ordered segments.
5. Browser reassembles and renders the page.

TCP ensures that:

* No HTML data is missing.
* Data arrives in the correct order.
* Lost packets are automatically resent.

---

## 🧠 Summary

| Concept            | Quick Explanation                                        |
| ------------------ | -------------------------------------------------------- |
| **Layer**          | Transport (on top of IP)                                 |
| **Goal**           | Reliable, ordered, error-checked delivery                |
| **Key Mechanisms** | Handshake, ACKs, Flow + Congestion Control               |
| **Ports**          | Identifies apps (e.g., HTTP 80, HTTPS 443)               |
| **Analogy**        | A registered parcel service that confirms every delivery |

---

✅ **In Short:**

> TCP trades speed for reliability — it’s the backbone of dependable Internet communication.
> It keeps everything ordered, acknowledged, and intact — so higher layers (like HTTP) don’t have to worry about data loss or corruption.