# üñ•Ô∏è Chapter 6: Building the System ‚Äì Notes

## 1. The Motherboard & System Integration

* The **motherboard** is the backbone of a computer, holding:

  * **CPU socket** (processor)
  * **Memory slots (DIMM/SIMM)**
  * **System buses** (PCI, AGP, SATA, etc.)
  * **Peripheral ports** (USB, audio, networking)
* Tracks on the board are **metal wires** (printed circuits). They behave like electrical components with **resistance + capacitance**, which affects **signal quality at high frequencies**.
* Challenge: modern CPUs run at **3‚Äì5 GHz+**, but long wires attenuate high-frequency signals. Solution: buses often run at different (lower) frequencies than the CPU to remain reliable.

---

## 2. System Bus vs Dedicated Bus

* **System bus**: The main shared pathway connecting CPU, memory, and I/O.

  * Also called host bus, local bus, or front-side bus.
  * Involves **bus master** (controls transaction) and **bus slave** (responds).
* **Dedicated bus**: A private, direct connection between CPU and a device (e.g., CPU ‚Üî GPU).

  * Avoids congestion on the main system bus.
  * Allows specialised devices (like GPUs) to move huge amounts of data without blocking CPU ‚Üî memory communication.

---

## 3. Concurrency in Bus Architectures

* With multiple buses (system, auxiliary, dedicated), **transactions can run in parallel**.
* Example:

  * CPU ‚Üî memory transaction on the system bus.
  * Peripheral ‚Üî peripheral transaction on an auxiliary bus.
  * GPU ‚Üî CPU communication on a dedicated bus.
* Benefits: more total bandwidth, better system efficiency.
* Limitation: if transactions involve the same bridge or bus, concurrency is lost.

---

## 4. Bus Standards & Generic Bus

* **Bus standard** = well-defined electrical & protocol rules so hardware from different vendors can interoperate.
* Standards ensure:

  * Interchangeability
  * Competition between vendors
  * Compatibility across devices
* **Generic system bus features:**

  * **Clock driver** ‚Äì synchronises events.
  * **Address lines** ‚Äì specify memory locations (2^a locations for a lines).
  * **Data lines** ‚Äì transfer data (8, 16, 32, 64 bits, etc.).
  * **Control signals** ‚Äì RD (read), WR (write), RAS (row address select), CAS (column address select).

---

## 5. PCI Bus (Auxiliary Bus Example)

* PCI = **Peripheral Component Interconnect**. Widely used inside PCs.
* Specs:

  * 33 MHz frequency
  * 32-bit address + data width (multiplexed on same lines)
* **Raw bandwidth**: \~132 MB/s.
* **Real bandwidth**: lower due to overhead (arbitration, turnaround cycles).
* **Block transfers** improve efficiency: transferring larger chunks reduces arbitration overhead, but:

  * Long transfers can starve other devices.
  * Trade-off between efficiency and fairness.

---

## 6. USB (Universal Serial Bus)

* Designed for **external peripherals** (keyboard, mouse, storage, etc.).
* Key features:

  * Provides **data + power** (small devices powered directly).
  * Data is sent in **packets** (header, payload, error-check code).
  * Supports **plug-and-play** (hot swapping).
  * **Bit-stuffing** ensures clock recovery even with long runs of 0s or 1s.
* Speeds:

  * USB 1.0 ‚Üí 12 Mbps
  * USB 2.0 ‚Üí 480 Mbps
  * USB 3.1 ‚Üí 10 Gbps
* Uses **hubs & ports** ‚Üí expansion to up to 127 devices.

---

## 7. Other Standards

* **FireWire (IEEE-1394):** High-speed video/audio.
* **Thunderbolt:** Extremely high throughput, daisy-chaining.
* **IDE/PATA, SATA, SCSI:** Storage buses for disks/SSDs.
* **Daisy chaining:** Linking devices in sequence, reducing wiring.

---

## 8. Industrial & Embedded Standards

* Focus: **reliability, fault tolerance, noise resistance**, not raw speed.
* **I2C (Inter-Integrated Circuit):**

  * Very simple, 2 wires: **SCL (clock), SDA (data)**.
  * Used in embedded systems (sensors, EEPROM, displays).
  * Multiple masters possible ‚Üí conflict resolved via **back-off and retry** arbitration.
* **CAN Bus (Controller Area Network):**

  * Designed for cars + industrial systems.
  * Uses **differential signalling** (two mirrored signals cancel noise).
  * Very resilient in electrically noisy environments.

---

## 9. Servers, Hot-Swap, DMA

* **Rack-mounted servers**: multiple boards, large-scale parallel resources.
* **Hot-swap**: replacing components (e.g., drives) without shutdown.
* **DMA (Direct Memory Access):** devices transfer data directly to memory without CPU.

  * Reduces CPU workload.
  * Risk: multiple DMA devices competing ‚Üí bandwidth allocation issues.

---

# ‚ú® Key Takeaways

* **System bus** is shared but can bottleneck performance; **dedicated buses** relieve pressure.
* **Concurrency** = parallel bus activity ‚Üí boosts effective system bandwidth.
* **Standards** (PCI, USB, SATA, I2C, CAN) provide interoperability + address different needs (general-purpose vs embedded/industrial).
* **Trade-offs** in design: efficiency vs fairness, speed vs reliability.
* Modern systems rely on **hierarchical bus designs**, with high-speed dedicated links (e.g., PCIe for GPUs) plus lower-speed peripheral buses (USB, I2C).
