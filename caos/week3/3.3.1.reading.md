# üìí Notes on Data Storage (Chapter 7)

## 7.1 Introduction: Storing Data

* **Memory vs. Storage**:

  * Main memory (RAM) is **volatile** (loses data when power is off).
  * Storage devices are **non-volatile** (keep data when powered off).
* Storage is critical as memory isn‚Äôt large enough to hold all system data.

---

## 7.2 Disks and Data Storage

### Early storage

* **Punched cards & tapes**: Holes represented binary values. Sequential, slow.
* **Magnetic tapes**:

  * Stored data on wide strips, read/written in tracks using magnetic heads.
  * Limitation: sequential access (to reach data at end, spool through everything).
  * Still used for **backups & archiving** due to robustness and capacity.

### Magnetic drums ‚Üí Disks

* **Drums**: cylindrical surface with tracks, faster access than tapes (random track access).
* **Magnetic disks (HDDs)**: platters that rotate, read/write heads move to tracks.

  * Allowed **random access** instead of pure sequential.

---

### 7.2.2 Modern Disks

* **Components**: Platters, spindle, read/write heads, armature, tracks, sectors.
* **Sector** = smallest block (e.g., 512B or 4KB). Files must occupy full sectors ‚Üí space wastage.
* **Access time** = seek time (move head) + rotational latency (wait for rotation) + transfer time (read/write).
* **Rotational speeds**: 5400‚Äì15000 RPM. Higher = faster access but more heat/power.
* **Zoned Bit Recording (ZBR)**: outer tracks hold more sectors than inner ‚Üí faster data rates on outer edges.

**Performance factors:**

* Increase RPM ‚Üí faster rotation, lower latency.
* More bytes per sector.
* More sectors per track.
* Multiple heads for parallelism.

---

### 7.2.3 Performance Example

* Best case: head already in place, immediate access.
* Worst case: full seek + full rotation (latency dominates).
* **Small files** suffer from mechanical delays.
* **Large files** ‚Üí transfer dominates, performance closer to advertised rates.

---

### 7.2.4 Fragmentation

* **Contiguous file**: all sectors together ‚Üí fast.
* **Fragmented file**: sectors scattered ‚Üí more seeks and rotations ‚Üí slower.
* **Defragmentation tools** reorganise files to reduce this penalty.

---

## 7.3 Disk Cache

* **On-disk RAM buffer** improves performance:

  * Stores frequently accessed or recently read data.
  * Hides mechanical delays (seek/rotation).
  * Cannot speed up first access, only subsequent ones.
* Helps with: repeated file reads, fragmented files, interleaved file access.

---

## 7.4 Solid-State Drives (SSD)

* Based on **flash memory** (non-volatile, no mechanics).
* Advantages:

  * **Much faster reads** (no seek/rotation).
  * Handles small & fragmented files efficiently.
  * Great for OS, apps, and read-heavy workloads.
* Drawbacks:

  * **Slower writes** (flash must be erased before rewritten).
  * **More expensive per GB** than HDDs.
  * **Memory wear**: limited write cycles per cell ‚Üí solved via **wear-levelling** (distributes writes evenly).
* Hybrid drives (SSHD): combine SSD cache with HDD bulk storage.
* Trend: SSDs gradually replacing HDDs except in very high-capacity, specialised cases.

---

### Storage Density

* HDDs: from washing-machine sized in 1960s ‚Üí 10TB in palm-sized 2.5‚Äù drives.
* SSDs: even denser and smaller.
* Density drives cost efficiency, size, and energy usage.

---

### Buyer Beware

* Performance ‚â† price.
* Consider: read/write speeds, sustained transfer rates, reliability, power use.
* Example: cheaper drives may outperform pricier ones depending on workload.

---

## 7.5 Reliability & Fault Tolerance

* **Failures**: mechanical (HDD dies), bit errors, corruption.
* **Error-Correcting Codes (ECC)**: extra data added for detection/correction.
* **RAID systems**:

  * **RAID 0 (striping)**: performance boost, no redundancy.
  * **RAID 1 (mirroring)**: duplication for reliability and possible performance.
  * Other levels combine performance + redundancy.

---

## 7.6 Remote Storage

* **Cloud storage & computing**: data stored and accessed over networks.
* **Network drives**: appear local to user but are remote.
* Pros: scalability, backup, access anywhere.
* Cons: network latency, bandwidth limits, security risks.
* Streaming (audio/video): sends chunks just in time, requires stable bandwidth.

---

## 7.7 Key Takeaways

* Storage tech evolved: **tape ‚Üí HDD ‚Üí SSD ‚Üí cloud**.
* HDDs: cheap, high capacity, mechanical limits.
* SSDs: faster, more reliable, limited by cost and write endurance.
* Performance depends not just on raw transfer speed, but also seek, fragmentation, and caching.
* Reliability crucial ‚Üí ECC, RAID, backups.
* Cloud storage adds flexibility, scalability, but relies on connectivity.

---

‚úÖ **Why this matters:**

* When designing systems, you must weigh **capacity vs. speed vs. reliability vs. cost**.
* HPC (high-performance computing) or databases may prioritise SSD + RAID.
* Archival systems may still use tapes.
* Everyday systems balance SSD (OS/apps) with HDD (bulk storage).