# Error Detection & Correction in Memory Systems

### Types of Errors

* **Hard failures**

  * Permanent defects in memory cells (stuck at 0/1, or erratic switching).
  * Caused by manufacturing defects, physical wear, or environmental abuse.
  * Non-recoverable – the affected cells are unusable.

* **Soft errors**

  * Random, non-destructive changes in stored data (bit flips).
  * Caused by power supply glitches or alpha particles from radioactive decay (present in small amounts in all materials).
  * Can often be detected and corrected without permanent damage.

> **Why distinction matters**:

* Hard failures require replacement/retirement of faulty hardware.
* Soft errors require runtime correction, hence the use of **error-correcting codes (ECC)**.

---

### Error-Correcting Codes (ECC)

* **Process**

  * When writing: A function `f` generates *check bits* (code) from the data. Both data and check bits are stored.
  * When reading: Check bits are recalculated and compared with stored check bits → creates a **syndrome word**.
  * Syndrome analysis leads to 3 possible outcomes:

    1. No error → data used directly.
    2. Single-bit error detected and corrected → corrected data returned.
    3. Error detected but not correctable → system reports error.

* **Terminology**

  * **Syndrome word**: Result of comparing recalculated vs. stored check bits. Indicates presence/location of error.
  * **SEC (Single-Error Correcting)** codes: Correct 1-bit errors.
  * **SEC-DED (Single-Error Correcting, Double-Error Detecting)** codes: Correct 1-bit errors, detect (but not correct) 2-bit errors.

---

### Example: **Hamming Codes**

* Invented by Richard Hamming (Bell Labs).
* For an `M`-bit data word, need `K` check bits such that:

  $$
  2^K - 1 \geq M + K
  $$
* Example: For 8-bit data → requires 4 check bits.
* Check bits placed at positions that are powers of 2 (1,2,4,8).
* Each check bit ensures **parity** across selected data bits.
* If an error occurs, mismatched parity bits reveal the bit position in error → correction is possible.

---

### Trade-offs (Table 5.2 insights)

* More data bits → smaller relative overhead of check bits.

  * Example:

    * 8 data bits + 4 check bits = **50% overhead**
    * 256 data bits + 9 check bits = **3.5% overhead**
* SEC-DED requires 1 extra bit compared to SEC → slightly higher overhead but much greater reliability.

---

### Real-World Use

* IBM 30xx: 8 check bits for 64 data bits (12% overhead).
* DEC VAX: 7 check bits for 32 data bits (22% overhead).
* Modern DRAMs: 9 check bits for 128 data bits (7% overhead).

> ECC **enhances system reliability** significantly at the cost of slight extra memory and added circuit complexity.

---

✅ **Key Takeaways**

* Memory reliability is threatened by both **hard failures** and **soft errors**.
* ECC provides resilience, especially in systems where **uptime and correctness** are critical (servers, aerospace, financial systems).
* **Hamming codes** are the foundation; **SEC-DED codes** are industry standard.
* Trade-off: ECC increases memory size (\~5–20% overhead) and complexity, but dramatically improves reliability.
